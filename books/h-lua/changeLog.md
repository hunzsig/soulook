### 更新日志 <a href="https://github.com/hunzsig-warcraft3/h-lua" target="_blank">#Git</a>

> 注意这里只列出部分较重要的更新

#### 2020/04/29
    致命 | 现在time模块不再支持原生计时器对象的获取时间了，全部改为框架自实现
    致命 | 修复timer索引有误的bug（可能导致计时器无法删除）
    致命 | 修复胜利失败不会自动结束游戏的问题
    优化 | 继续完善英雄选择
#### 2020/04/26
    优化 | 调整skill的damage，现在伤害动作可以没有伤害来源
#### 2020/04/25
    致命 | 修复is模块的时间判断bug，修复天气模块的一些bug
    致命 | 删除mark模块（遮罩）归并到新增的texture模块
    优化 | 修复了一些技能边界问题
#### 2020/04/23 - 24
    致命 | message模块删除，echo方法现在是全局方法，同时合并实现echo00等方法
    优化 | hero模块重构
    优化 | env模块重构（迷雾方法现在归属在env模块）
#### 2020/04/22
    优化 | 更优质的事件顺序编排
#### 2020/04/20
    致命 | 不再内置BJ文件，如需使用，自行补充和引用
#### 2020/04/15 - 20
    致命 | 删除了event的onSummon（被召唤）事件
    致命 | 修复击飞目标参数错误的bug
    功能 | 新增被反伤事件
    优化 | 删除了上下左右和选择单位对apm的影响
    优化 | event充分利用pool，重构大部分的方法
#### 2020/04/14
    致命 | - 修复event区域进入离开参数错误的bug
#### 2020/03/31
    功能 | - 整合随机数
#### 2020/03/30
    致命 | - 修复一个物品拾取事件变量[pickup]命名丢失错误
#### 2020/03/28
    优化 | - 利用event注册池，动态注册事件动态分配，极大降低框架默认注册崩溃的可能性
#### 2020/03/23
    致命 | - 修复unit.del持续时间为0的注册单位变量无法释放的问题
#### 2020/03/22
    优化 | - 重实现整理DZapi
#### 2020/03/16
    功能 | - 增加一个商城作弊法
    优化 | - strpos现在找不到返回false而不是-1
#### 2020/03/06
    功能 | - string新增一个strpos方法
    优化 | - 优化isOwnItem,现在同时支持int和string类型的id
#### 2020/02/29
    优化 | - 整合区间距离计算
#### 2020/02/24 ~ 27
    优化 | - 计时器与窗口分离，去除计时器调用时的闭包泄漏
    优化 | - 改变filter的使用，用来解决group的闭包泄漏
    优化 | - 重做物品拾取方法，改成框架自实现，不再使用jass方法，用来解决引擎闭包泄漏
#### 2020/02/22
    致命 | - 弃用pairs
#### 2020/02/19
    优化 | - time模块新增一个池，用于计时器handle的复用，经测试计时器即使删除内存也不释放，此举解决了内存溢出的问题
    功能 | - time模块delDialog方法删除，现在调用delTimer会自动删除对话框，而回调也不再提供dialog的handle
#### 2020/02/18
    功能 | - 现在debug文件里自带调试开启，并且进行了常规错误的捕获，更方便突发测试，自动调试在打包时会自动删除
#### 2020/02/17
    优化 | - texttag设置了一个limit值作用限制上限，解决lua调用jass函数无效却占用资源丢失跟踪无法释放内存的问题
#### 2020/02/15
    功能 | - 新增打包package工具用于上线,复制exampleini,双击package打包
    优化 | - 统合group
#### 2020/02/14
    致命 | - 重构dzapi！现在有个plugin文件复制到触发开启dzapi
    功能 | - 新增一个玩家离开游戏的事件
#### 2020/02/13
    功能 | - 新增is两个判断：单位是否已被删除,单位是否正在受伤
#### 2020/02/12
    致命 | - 优化加载步骤，不再需要构建初始化触发器执行作弊码指令
    致命 | - 删除了区域注册的初始化过程，转移至hunit(以后不通过hunit来创建单位就不会被系统识别)
    功能 | - hunit.create新增register,isOpenSolt参数，可以控制是否注册和注册物品栏
    功能 | - 新增获取排行榜名次玩家的3个方法
    功能 | - 新增玩家名称处理的2个方法
#### 2020/02/10
    功能 | - player模块新增一个隐藏所有单位方法
#### 2020/02/09
    致命 | - 修复缴械对象获取错误的bug
    致命 | - 修复is.get错误的bug
#### 2020/02/08
    致命 | - 修复了之前改动的眩晕以致有时无效的bug
    功能 | - string 新增方法 vkey,attr调用此方法，提升set的效率大概20倍
    优化 | - 反伤数值机制精度为0.01,小于0.01无效
#### 2020/02/06
    优化 | - 物品属性系统的完成及内存优化
#### 2020/02/05
    优化 | - 部分attr的slk方法转移至slk-helper
#### 2020/02/04
    致命 | - math删除了两个已经无用的函数 oddsItem coverAttrEffectVal
    功能 | - 新增一个quest模块
    功能 | - debug新增rem方法，用于检测执行时间
    优化 | - 修复hluaF9事件错误的bug
#### 2020/02/02
    功能 | - 新增一个方法判断是否隐身
    优化 | - 无敌的作用机制改为技能的Avul
    优化 | - 删除了源的框架属性设定
    优化 | - 优化SLK预读
#### 2020/02/01
    优化 | - 删除了全局注册这个事件
    优化 | - 排行榜现在自动根据数值降序
#### 2020/01/31
    功能 | - item新增方法pick
#### 2020/01/30
    致命 | - 修复attr没有处理护甲和魔抗在伤害中比率的问题
#### 2020/01/29
    优化 | - runtime的gc
    优化 | - 黄金木材资源的ratio生效机制更改，现只需要调用add方法会自动结合比率计算，如果add方法设定了单位，还会自动展示漂浮字
    优化 | - 漂浮字的动画和呈现的效率
#### 2020/01/27
    致命 | - 修复attr-effect不能正确删除的bug
    功能 | - 新增一个蝗虫的is判断
    优化 | - 超过漂浮字上限的优化处理
#### 2020/01/26
    优化 | - 新增一个group方法loop，新增一个技能，矩形打击
#### 2020/01/25
    优化 | - 伤害增幅的key改为damage_extent
#### 2020/01/24
    鼠年快乐！
#### 2020/01/23
    致命 | - 修复了attr对于string数值处理不妥的bug
    功能 | - 新增技能leapReflex
#### 2020/01/22
    致命 | - 修复小数缓存的微妙差值bug
    功能 | - 新增属性：神/神抗
    优化 | - 修复swim技能damageType获取错误对象的bug
#### 2020/01/20
    功能 | - 新增unit方法，设置单位的动画速度
#### 2020/01/19
    功能 | - 新增string方法：子串统计
    功能 | - 反伤增加无敌判定(无敌不会被反伤)
#### 2020/01/18
    致命 | - 修复event的handle对象错误bug
    功能 | - 新增一个string方法，用于重复字符串
#### 2020/01/17
    重构 | - 增加了一个常规伤害的设定
    致命 | - 修复一部分属性小数精度丢失的bug
    功能 | - 分裂、物理暴击、魔法暴击现在不属于常规属性，改为effect类型
#### 2020/01/16
    功能 | - 属性系统的伤害动作全部与skill的合并，现在只需要使用hskill.damage,而hattr.huntUnit则被删除
#### 2020/01/15
    功能 | - 新增leap拓展技能leapRange
    功能 | - 新增技能：隐身/现形，优化hskill及hattr
    功能 | - 修复effect一些关于更新迭代的bug
#### 2020/01/14
    致命 | - 修复start.lua错误判断蝗虫存在的bug
    致命 | - 修复math的bug
    功能 | - 无敌和群体无敌技能，增加一个可以设置特效的参数
    功能 | - leap技能重做，修复math库的bug
    功能 | - 新增leap拓展技能pow
#### 2020/01/13
    功能 | - 新增dzapi封装、unit方法
    功能 | - 新增技能，剑刃风暴
#### 2020/01/12
    重构 | - damage函数的优化
    致命 | - 修复眩晕技能持续时间过短时，无法准确删除buff的bug
    功能 | - 新增玩家方法get/set称号
    优化 | - 修复属性系统临时增加的物品栏没被删除的bug
    优化 | - 增加一个魔爆特效
    优化 | - 修复新版事件触发技能事件有可能获取数据错误的bug
#### 2020/01/11
    重构 | - hevent模块重做，影响获取回调数据的方式
#### 2020/01/10
    功能 | - 新增一个修改单位颜色的方法
    优化 | - 排行榜的数据设定法修改(改成和多面板差不多)
#### 2020/01/09
    致命 | - 修复了闪电效果的无效偏移bug及技能闪电链的一些bug
    功能 | - group新增获取最近单位方法，skill闪电链优化单位选取(最近的敌人)
#### 2020/01/08
    重构 | - hlogic模块直接删除，转为基本库的math
    重构 | - mark模块重做，同时修复一些BJ问题
    致命 | - 修复属性系统视野，绿字攻击，攻速，护甲的减除bug
    致命 | - 修复slk攻速技能数值错误的问题
    致命 | - 修复负护甲负魔抗失效的bug
    优化 | - 调节多面板的图标占位
    优化 | - 修复BJ、player bug
#### 2020/01/07
    功能 | - 新增table模块，而system被拆分为table和string，不复存在
    功能 | - 新增string基本库，原来的idchar转换方法从system删除，内置于string
    功能 | - 新增多面板，排行榜增加两个设定参数的方法,修复一个skill的bug
    功能 | - group新增坐标法，优化原有的点、单位创建
    功能 | - unit增加一个方法获取单位名字
    功能 | - 增加了一个技能【范围眩晕】
    优化 | - 修改effect、buff的特效作用顺序
    优化 | - 优化单位、物品的id问题
#### 2020/01/06
    重构 | - skill大更新，部分技能改为options参数模式,眩晕等技能现在自动对抵抗作出反应
    优化 | - 修复了新版table层次不正确的bug
    优化 | - 属性系统的实现，MD5的调用
    优化 | - 修正buff的删除
#### 2020/01/05
    重构 | - 属性系统大更新
#### 2020/01/04
    功能 | - 现在创建物品时如果是给予单位，可选物品的位置
    优化 | - 修复了删除技能必须要设置during的不人性化问题
#### 2020/01/03
    致命 | - 修复了hattr力敏智的计算出错的bug
    功能 | - 自然属性新增“虫”insect属性
#### 2020/01/01
    致命 | - 修复属性系统的特性bug
    功能 | - 现在hevent的GetTriggerSkill返回的不再是handleID而是charID
    功能 | - award模块与unit连通(主要是exp的改动)
    优化 | - 修复buff/debuff无效的bug（key错误）
    优化 | - 修复了一些unit模块的bug
#### 2019/12/31
    优化 | - 修复了hColor亮紫色颜色错误的bug
#### 2019/12/30
    优化 | - 修改item获取slk的部分方法,getAvatar改为getArt（获取图标）,getModel改为getFile（获取模型路径）
#### 2019/12/29
    优化 | - 修复一个关于玩家胜利失败的BJbug
#### 2019/12/25
    功能 | - dialog现在支持table的buttons，同时会自动识别设置的key指，可能的话作为热键
    功能 | - 优化物品，修复自动物品不会触发使用事件的bug
    功能 | - 优化system的错误提示
    功能 | - 新增hhero方法：设置英雄当前等级
#### 2019/12/24
    功能 | - 优化一些拥有持续时间的函数，during可以不填
    功能 | - 对话框现在支持关联table及序列table
    优化 | - 修复玩家获取地图区域调用了BJ函数的问题
#### 2019/12/23
    功能 | - 增强debug(mb方法)
    功能 | - his新增判断是否敌军、友军的方法
#### 2019/12/22
    功能 | - 新增物品的满格、超重事件、属性计算
    优化 | - 修复runtime的参数重名bug，优化item和unit的slk数据获取
#### 2019/12/21
    功能 | - htime最重要的两个计时器方法的参数顺序变更，优化nil的编写
    功能 | - 现在system的print_r归到debug里面去了
    优化 | - 删除系统默认的空冷却slk
#### 2019/12/20
    功能 | - skills删除了0秒无敌（合并到无敌的方法去了）
    功能 | - slk新增一棵树，修复镜头有几率出错的bug
    功能 | - 新增一波技能的通用方法(添加、删除)
    优化 | - 修复BJ函数错误
#### 2019/12/18
    功能 | - effect现在只支持>=0（0为删除型特效调用法）
    优化 | - 修复已知的bug
#### 2019/12/16
    功能 | - 现在onLevelUp事件支持获取提升了的等级差
    优化 | - 修了很多bug（sound、event、hero、player等）
#### 2019/12/15
    功能 | - 加入leaderBoard（排行榜）功能
    优化 | - 修复了is库使用了BJ函数导致的bug
    优化 | - 修复技能、属性系统，飘浮字，事件一些bug，优化一些效果
    优化 | - 调整默认的奖励范围，删除一些调试
    优化 | - 修复玩家金钱木材设置无效的bug
    优化 | - 修复runtime bug
    优化 | - 同步unit库在其他库中的引用
#### 2019/12/13
    优化 | - 修复计时器一次性时窗口不显示的bug
#### 2019/12/12
    致命 | - 修复创建单位初始index不正确的bug
    致命 | - 修复 timer bug
    功能 | - 加入dialog（对话框），用更精简的方法优化msg
    功能 | - 删除无用的技能空冷却，增加一个栈信息打印方便调试，优化代码中判断
#### 2019/02/21 ~ 2019/10/11
    功能 | - 功能补充
#### 2019/02/21
    - start -
